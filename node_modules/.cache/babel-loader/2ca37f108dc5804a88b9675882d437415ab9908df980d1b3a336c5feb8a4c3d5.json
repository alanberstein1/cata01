{"ast":null,"code":"import React,{useEffect,useRef,useState}from\"react\";import{fabric}from\"fabric\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){const canvasRef=useRef(null);const[canvas,setCanvas]=useState(null);const[nameTextObj,setNameTextObj]=useState(null);const[nameInput,setNameInput]=useState(\"Your Name\");useEffect(()=>{const newCanvas=new fabric.Canvas(canvasRef.current,{width:800,height:600,backgroundColor:\"#fff\"});// Add editable text\nconst text=new fabric.Textbox(nameInput,{left:200,top:100,width:300,fontSize:30});newCanvas.add(text);setCanvas(newCanvas);setNameTextObj(text);// Setup image adder function\nwindow.addLibraryObject=url=>{fabric.Image.fromURL(url,img=>{img.left=400;img.top=200;img.scaleToWidth(100);newCanvas.add(img);});};},[]);// Update canvas text live\nuseEffect(()=>{if(nameTextObj){nameTextObj.text=nameInput;canvas.renderAll();}},[nameInput,nameTextObj,canvas]);return/*#__PURE__*/_jsxs(\"div\",{style:{padding:20},children:[/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:20},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:nameInput,onChange:e=>setNameInput(e.target.value),placeholder:\"Enter your name\",style:{fontSize:\"18px\",padding:\"8px\",width:\"300px\",marginBottom:\"10px\"}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.addLibraryObject(\"/objects/flower.png\"),children:\"Add Flower\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.addLibraryObject(\"/objects/car.png\"),children:\"Add Car\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.addLibraryObject(\"/objects/star.png\"),children:\"Add Star\"})]})]})]});}","map":{"version":3,"names":["React","useEffect","useRef","useState","fabric","jsx","_jsx","jsxs","_jsxs","App","canvasRef","canvas","setCanvas","nameTextObj","setNameTextObj","nameInput","setNameInput","newCanvas","Canvas","current","width","height","backgroundColor","text","Textbox","left","top","fontSize","add","window","addLibraryObject","url","Image","fromURL","img","scaleToWidth","renderAll","style","padding","children","ref","marginTop","type","value","onChange","e","target","placeholder","marginBottom","onClick"],"sources":["/workspaces/cata01/src/App.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { fabric } from \"fabric\";\n\nexport default function App() {\n  const canvasRef = useRef(null);\n  const [canvas, setCanvas] = useState(null);\n  const [nameTextObj, setNameTextObj] = useState(null);\n  const [nameInput, setNameInput] = useState(\"Your Name\");\n\n  useEffect(() => {\n    const newCanvas = new fabric.Canvas(canvasRef.current, {\n      width: 800,\n      height: 600,\n      backgroundColor: \"#fff\"\n    });\n\n    // Add editable text\n    const text = new fabric.Textbox(nameInput, {\n      left: 200,\n      top: 100,\n      width: 300,\n      fontSize: 30\n    });\n\n    newCanvas.add(text);\n    setCanvas(newCanvas);\n    setNameTextObj(text);\n\n    // Setup image adder function\n    window.addLibraryObject = (url) => {\n      fabric.Image.fromURL(url, (img) => {\n        img.left = 400;\n        img.top = 200;\n        img.scaleToWidth(100);\n        newCanvas.add(img);\n      });\n    };\n  }, []);\n\n  // Update canvas text live\n  useEffect(() => {\n    if (nameTextObj) {\n      nameTextObj.text = nameInput;\n      canvas.renderAll();\n    }\n  }, [nameInput, nameTextObj, canvas]);\n\n  return (\n    <div style={{ padding: 20 }}>\n      <canvas ref={canvasRef} />\n      <div style={{ marginTop: 20 }}>\n        <input\n          type=\"text\"\n          value={nameInput}\n          onChange={(e) => setNameInput(e.target.value)}\n          placeholder=\"Enter your name\"\n          style={{\n            fontSize: \"18px\",\n            padding: \"8px\",\n            width: \"300px\",\n            marginBottom: \"10px\"\n          }}\n        />\n        <div>\n          <button onClick={() => window.addLibraryObject(\"/objects/flower.png\")}>Add Flower</button>\n          <button onClick={() => window.addLibraryObject(\"/objects/car.png\")}>Add Car</button>\n          <button onClick={() => window.addLibraryObject(\"/objects/star.png\")}>Add Star</button>\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAC1D,OAASC,MAAM,KAAQ,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhC,cAAe,SAAS,CAAAC,GAAGA,CAAA,CAAG,CAC5B,KAAM,CAAAC,SAAS,CAAGR,MAAM,CAAC,IAAI,CAAC,CAC9B,KAAM,CAACS,MAAM,CAAEC,SAAS,CAAC,CAAGT,QAAQ,CAAC,IAAI,CAAC,CAC1C,KAAM,CAACU,WAAW,CAAEC,cAAc,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAACY,SAAS,CAAEC,YAAY,CAAC,CAAGb,QAAQ,CAAC,WAAW,CAAC,CAEvDF,SAAS,CAAC,IAAM,CACd,KAAM,CAAAgB,SAAS,CAAG,GAAI,CAAAb,MAAM,CAACc,MAAM,CAACR,SAAS,CAACS,OAAO,CAAE,CACrDC,KAAK,CAAE,GAAG,CACVC,MAAM,CAAE,GAAG,CACXC,eAAe,CAAE,MACnB,CAAC,CAAC,CAEF;AACA,KAAM,CAAAC,IAAI,CAAG,GAAI,CAAAnB,MAAM,CAACoB,OAAO,CAACT,SAAS,CAAE,CACzCU,IAAI,CAAE,GAAG,CACTC,GAAG,CAAE,GAAG,CACRN,KAAK,CAAE,GAAG,CACVO,QAAQ,CAAE,EACZ,CAAC,CAAC,CAEFV,SAAS,CAACW,GAAG,CAACL,IAAI,CAAC,CACnBX,SAAS,CAACK,SAAS,CAAC,CACpBH,cAAc,CAACS,IAAI,CAAC,CAEpB;AACAM,MAAM,CAACC,gBAAgB,CAAIC,GAAG,EAAK,CACjC3B,MAAM,CAAC4B,KAAK,CAACC,OAAO,CAACF,GAAG,CAAGG,GAAG,EAAK,CACjCA,GAAG,CAACT,IAAI,CAAG,GAAG,CACdS,GAAG,CAACR,GAAG,CAAG,GAAG,CACbQ,GAAG,CAACC,YAAY,CAAC,GAAG,CAAC,CACrBlB,SAAS,CAACW,GAAG,CAACM,GAAG,CAAC,CACpB,CAAC,CAAC,CACJ,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN;AACAjC,SAAS,CAAC,IAAM,CACd,GAAIY,WAAW,CAAE,CACfA,WAAW,CAACU,IAAI,CAAGR,SAAS,CAC5BJ,MAAM,CAACyB,SAAS,CAAC,CAAC,CACpB,CACF,CAAC,CAAE,CAACrB,SAAS,CAAEF,WAAW,CAAEF,MAAM,CAAC,CAAC,CAEpC,mBACEH,KAAA,QAAK6B,KAAK,CAAE,CAAEC,OAAO,CAAE,EAAG,CAAE,CAAAC,QAAA,eAC1BjC,IAAA,WAAQkC,GAAG,CAAE9B,SAAU,CAAE,CAAC,cAC1BF,KAAA,QAAK6B,KAAK,CAAE,CAAEI,SAAS,CAAE,EAAG,CAAE,CAAAF,QAAA,eAC5BjC,IAAA,UACEoC,IAAI,CAAC,MAAM,CACXC,KAAK,CAAE5B,SAAU,CACjB6B,QAAQ,CAAGC,CAAC,EAAK7B,YAAY,CAAC6B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC9CI,WAAW,CAAC,iBAAiB,CAC7BV,KAAK,CAAE,CACLV,QAAQ,CAAE,MAAM,CAChBW,OAAO,CAAE,KAAK,CACdlB,KAAK,CAAE,OAAO,CACd4B,YAAY,CAAE,MAChB,CAAE,CACH,CAAC,cACFxC,KAAA,QAAA+B,QAAA,eACEjC,IAAA,WAAQ2C,OAAO,CAAEA,CAAA,GAAMpB,MAAM,CAACC,gBAAgB,CAAC,qBAAqB,CAAE,CAAAS,QAAA,CAAC,YAAU,CAAQ,CAAC,cAC1FjC,IAAA,WAAQ2C,OAAO,CAAEA,CAAA,GAAMpB,MAAM,CAACC,gBAAgB,CAAC,kBAAkB,CAAE,CAAAS,QAAA,CAAC,SAAO,CAAQ,CAAC,cACpFjC,IAAA,WAAQ2C,OAAO,CAAEA,CAAA,GAAMpB,MAAM,CAACC,gBAAgB,CAAC,mBAAmB,CAAE,CAAAS,QAAA,CAAC,UAAQ,CAAQ,CAAC,EACnF,CAAC,EACH,CAAC,EACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}